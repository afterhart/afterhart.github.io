/* Minimalist AFTERHART layout — 4-cols grid, aligned edges, extended uniform underline */

/* Локальные шрифты (если есть) */
@font-face {
  font-family: 'BrandFont';
  src: url('fonts/BrandFont.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'ItemFont';
  src: url('fonts/ItemFont.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Переменные */
:root{
  --bg: #000;
  --fg: #fff;
  --muted: #bdbdbd;
  --accent: #fff;
  --sidebar-w: 240px;
  /* Длина подчёркивания: берём большую долю ширины основной области, но лимитируем */
  --underline-proportion: 0.82; /* можно уменьшить/увеличить */
  --underline-max: 720px;       /* жесткий предел */
}

/* Общие сбросы */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family: 'ItemFont', Arial, Helvetica, sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Skip link */
.skip-link{
  position: absolute;
  left:-9999px;
  top:auto;
  width:1px;height:1px;
  overflow:hidden;
}
.skip-link:focus{
  left:1rem; top:1rem;
  background:#fff;color:#000;padding:.5rem .75rem;border-radius:4px; z-index:10000;
}

/* Sidebar */
.sidebar{
  position:fixed;
  left:0;top:0;bottom:0;
  width:var(--sidebar-w);
  padding:48px 28px;
  display:flex;
  flex-direction:column;
  gap:24px;
  background:transparent;
  z-index:10;
}
.brand{
  font-family:'BrandFont', Arial, Helvetica, sans-serif;
  font-size:20px;
  letter-spacing:4px;
  color:var(--fg);
  user-select:none;
  pointer-events:none;
}

/* Navigation */
.nav ul{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.nav a{
  color:var(--fg);
  text-decoration:none;
  font-size:14px;
  letter-spacing:2px;
  padding:6px 0;
  display:inline-block;
  position:relative;
  transition:color .15s ease, opacity .15s;
}

/* Рассчитываем длину подчёркивания динамически:
   длина = min( (ширина основной области) * proportion, underline-max )
   (используем viewport и переменную ширины сайдбара) */
.nav a::after{
  content: '';
  position: absolute;
  left: 0;
  bottom: -2px;
  height: 2px;
  /* вычисляем желаемую длину (результат зависит от viewport width) */
  width: min(calc((100vw - var(--sidebar-w)) * var(--underline-proportion)), var(--underline-max));
  background: var(--accent);
  transform: scaleX(0);
  transform-origin: left center;
  transition: transform .24s cubic-bezier(.2,.8,.2,1), opacity .18s ease;
  opacity: 0.98;
  border-radius: 1px;
  pointer-events: none;
}

/* Hover и active анимация */
.nav a:hover::after,
.nav a.active::after,
.nav a[aria-current="page"]::after{
  transform: scaleX(1);
}

.nav a:hover{opacity:.95}

/* Main area */
.main{
  margin-left:var(--sidebar-w);
  min-height:100vh;
  padding:32px;
  display:flex;
  flex-direction:column;
  gap:28px;
}

/* Hero (video) — прямые углы */
.hero{
  position:relative;
  width:100%;
  height:60vh;
  min-height:360px;
  border-radius:0;
  overflow:hidden;
  background:#111;
  display:flex;
  align-items:center;
  justify-content:center;
}
.hero-video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  filter:contrast(.9) saturate(.95);
  z-index:0;
  pointer-events:none;
  border-radius:0;
}

/* Catalog / Grid — 4 колонки, ширина равна основной области,
   чтобы края крайнего фото совпадали с краями видео */
.catalog{
  width:100%;
  box-sizing:border-box;
}
.grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:20px;
  margin-top:6px;
  width:100%;
}

/* Items: прямые углы, одинаковая высота картинок для ровной сетки */
.item a{
  display:flex;
  flex-direction:column;
  text-decoration:none;
  color:var(--fg);
  border:1px solid rgba(255,255,255,.06);
  padding:6px;
  gap:8px;
  transition:transform .18s ease, box-shadow .18s ease;
  background:rgba(0,0,0,0.12);
  border-radius:0;
}
.item a:hover{ transform:translateY(-6px); box-shadow:0 8px 30px rgba(0,0,0,.45)}
.item img{
  width:100%;
  height:160px;       /* одинаковая высота */
  object-fit:cover;   /* равный кадр для аккуратной сетки */
  border-radius:0;
  display:block;
}
.item p{ margin:0; font-size:13px; letter-spacing:1px; text-align:center; font-family:'ItemFont', Arial, Helvetica, sans-serif}

/* Responsive */
@media (max-width:1100px){
  .grid{ grid-template-columns:repeat(3,1fr) }
}
@media (max-width:900px){
  :root{ --sidebar-w: 100% }
  .sidebar{
    position:static;
    width:100%;
    padding:18px;
    flex-direction:row;
    align-items:center;
    justify-content:space-between;
    gap:8px;
    border-bottom:1px solid rgba(255,255,255,0.03);
  }
  .nav ul{ flex-direction:row; gap:18px }
  .brand{ font-size:18px }
  .main{ margin-left:0; padding:20px }
  .hero{ height:50vh; min-height:260px }
  .grid{ grid-template-columns:repeat(2,1fr); gap:16px }
  .item img{ height:140px }
}
@media (max-width:420px){
  .nav ul{ gap:10px; overflow:auto; -webkit-overflow-scrolling:touch }
  .grid{ grid-template-columns:1fr; }
  .item img{ height:auto }
}

/* Accessibility focus */
a:focus{ outline:2px solid rgba(255,255,255,.12); outline-offset:2px; border-radius:4px }
